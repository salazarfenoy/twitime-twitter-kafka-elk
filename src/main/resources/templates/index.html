<!DOCTYPE html>
<html lang="en">
<head>
<link th:href="@{/css/styles.css}" rel="stylesheet" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
	<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css">
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	
	
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jqc-1.12.4/dt-1.11.0/b-2.0.0/sl-1.3.3/datatables.min.css"/>
<link rel="stylesheet" type="text/css" href="Editor-2.0.5/css/editor.dataTables.css">
<script src="extensions/auto-refresh/bootstrap-table-auto-refresh.js"></script>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jqc-1.12.4/dt-1.11.0/b-2.0.0/sl-1.3.3/datatables.min.js"></script>
<script type="text/javascript" src="Editor-2.0.5/js/dataTables.editor.js"></script>
<link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
</head>
<body class="bg-dark bs-gradient">
	<div class="container text-center mt-4">
		<h1 class="text-light">TwiTime</h1>
		<h6 class="text-muted">Seguimiento de tweets en tiempo real</h6>
		<div class="row justify-content-center">
		<div class="col-sm-2">
		</div>
		<div class="col-sm-8 mt-4">
		<form action="#" th:action="@{/topics}" method="post" th:object="${tema}">
			
				<input type="text" th:field="*{nombre}" class="form-control" placeholder="Introduce un tema o varios separados por comas" aria-label="Introduce una keyword o varias separadas por comas" aria-describedby="basic-addon1">
			
			
			</form>
			</div>
			
			<div class="col-sm-2 justify-content-start mt-4 ml-4"><a th:href="@{/deleteList}"><button class="btn btn-danger">Vaciar tabla</button></a></div>
			
		</div>
		
		<div class="d-flex mt-4 flex-wrap">
		<div th:each="tema: ${temasList}">
  <span class="badge bg-primary rounded-pill ms-2 p-2 px-3 pe-2 fs-6 mb-2 " th:inline="text">[[${tema.nombre}]]<a th:href="@{/deletetopic/(topic=${tema.nombre})}" >
  <span class="badge bg-secondary rounded-pill ms-1" style="font-size:0.6rem;vertical-align:middle">X</span></a></span>
  </div>
</div>

		
		<table  class="table table-dark table-striped table-hover table-responsive-sm" id="kafka-table" data-height="800"
  data-toggle="table" data-auto-refresh="true">
 
		<thead>
		<tr>
		<th data-field="fecha">Fecha</th>
		<th data-field="nombre">Usuario</th>
		<th data-field="perfil">Perfil</th>
		<th data-field="followers">Followers</th>
		<th data-field="tweet">Tweet</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="tweet: ${tweetsList}">
		<td th:inline="text">[[${tweet.fecha}]]</td>
		<td th:inline="text">[[${tweet.nombre}]]</td>
		<td th:inline="text"><div><a th:href="'https://www.twitter.com/'+${tweet.usuario}" target="_blank"><image th:src="${tweet.imagen}"></image></a></div><div><a th:href="'https://www.twitter.com/'+${tweet.usuario}" target="_blank">@[[${tweet.usuario}]]</a></div></td>
		<td th:inline="text">[[${tweet.followers}]]</td>
		<td th:inline="text">[[${tweet.texto}]]</td>
		</tr>
		</tbody>
		</table>
		
	</div>
	
	<script type="text/javascript" 	th:src="@{../js/jquery.sse.js}"></script>
	<script type="text/javascript" th:src="@{../js/data-kafka.js}"></script>
	<script type="text/javascript" th:src="@{../js/temas.js}"></script>
	
	
	
</body>
</html>